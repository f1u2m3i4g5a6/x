<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Abyss</title>
  <link rel="icon" href="universal.ico" type="image/icon">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background-color: #1b2330;
      color: #ffffff;
      padding-top: 70px;
    }

    .container {
      width: 100%;
      padding: 10px 20px;
      background-color: #222e41;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      border-radius: 0 0 10px 10px;
    }

    .logo {
      font-size: 24px;
      font-weight: bold;
      color: #ffffff;
      text-transform: uppercase;
    }

    .navbar {
      display: flex;
    }

    .navbar a {
      margin: 0 10px;
      font-size: 14px;
      text-decoration: none;
      color: #ffffff;
      border: 2px solid transparent;
      padding: 7px 14px;
      border-radius: 10px;
      transition: background-color 0.3s, border-color 0.3s;
    }

    .navbar a:hover {
      background-color: #ffffff;
      color: #1b2330;
      border-color: #1b2330;
    }

    main {
      margin-top: 80px;
      padding: 20px;
      text-align: center;
    }

    .hero {
      background: url('hero-image.jpg') no-repeat center center;
      background-size: cover;
      height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .hero h1 {
      font-size: 36px;
      margin: 0;
    }

    .admin-section {
      margin: 20px auto;
      width: 90%;
      max-width: 1000px;
      background-color: #2a3b56;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      text-align: left;
      margin-bottom: 40px;
    }

    .admin-section h2 {
      margin-bottom: 15px;
      font-size: 28px;
      color: #89CFF0;
    }

    .admin-section table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .admin-section th, .admin-section td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    .admin-section th {
      background-color: #2a3141;
    }

    .admin-section tr:nth-child(even) {
      background-color: #2a3141;
    }

    .admin-section tr:hover {
      background-color: #1b2330;
    }

    .admin-section .button {
      padding: 8px 16px;
      background-color: #89CFF0;
      color: #1b2330;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .admin-section .button:hover {
      background-color: #1b2330;
      color: #ffffff;
    }

    .form-section {
      margin-top: 30px;
      width: 100%;
      max-width: 800px;
      background-color: #2a3b56;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      margin-left: auto;
      margin-right: auto;
    }

    .form-section h2 {
      margin-bottom: 15px;
      font-size: 28px;
      color: #89CFF0;
    }

    .form-section label {
      display: block;
      margin-bottom: 5px;
    }

    .form-section input, .form-section select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: none;
      border-radius: 5px;
      background-color: #1b2330;
      color: #ffffff;
      border: 1px solid #89CFF0;
    }

    .form-section button {
      display: inline-block;
      padding: 10px 20px;
      background-color: #89CFF0;
      color: #1b2330;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .form-section button:hover {
      background-color: #1b2330;
      color: #ffffff;
    }

    .success-message {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #89CFF0;
      color: #1b2330;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      z-index: 1001;
      text-align: center;
    }

    .success-message button {
      margin-top: 10px;
      padding: 5px 10px;
      background-color: #1b2330;
      color: #ffffff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <header class="container">
    <div class="logo">Universal Abyss</div>
    <nav class="navbar">
      <a href="universal">Início</a>
      <a href="1789172197207700707843473334">Painel</a>
      <a href="729127198217989286621111670661">Admin</a>
      <a href="8189212345678789672326333">Embed</a>
      <a href="salas">Salas</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div>
        <h1>Gerenciamento de Tabela</h1>
        <p>Acompanhe e gerencie a tabela para as competições.</p>
      </div>
    </section>

    <section class="admin-section">
      <h2>Categoria A - Times</h2>
      <table>
        <thead>
          <tr>
            <th>Posição</th>
            <th>Nome do Time</th>
            <th>Capitão</th>
            <th>Pontos</th>
            <th>Jogos</th>
            <th>Vitórias</th>
            <th>Empates</th>
            <th>Derrotas</th>
            <th>Gols Pró</th>
            <th>Gols Contra</th>
            <th>Saldo de Gols</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody id="categoryA">
          <!-- Times da Categoria A -->
        </tbody>
      </table>

      <h2>Categoria B - Times</h2>
      <table>
        <thead>
          <tr>
            <th>Posição</th>
            <th>Nome do Time</th>
            <th>Capitão</th>
            <th>Pontos</th>
            <th>Jogos</th>
            <th>Vitórias</th>
            <th>Empates</th>
            <th>Derrotas</th>
            <th>Gols Pró</th>
            <th>Gols Contra</th>
            <th>Saldo de Gols</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody id="categoryB">
          <!-- Times da Categoria B -->
        </tbody>
      </table>

      <button class="button" onclick="loadInscricoes()">Carregar Time</button>
    </section>

    <section class="form-section">
      <h2>Formulário de Inscrição de Time</h2>
      <form id="inscricaoForm">
        <label for="nome-time">Nome do Time:</label>
        <input type="text" id="nome-time" name="nome-time" required>

        <label for="nome-capitao">Nome do Capitão:</label>
        <input type="text" id="nome-capitao" name="nome-capitao" required>

        <label for="categoria">Categoria:</label>
        <select id="categoria" name="categoria" required>
          <option value="A">Categoria A</option>
          <option value="B">Categoria B</option>
        </select>

        <label for="imagem-time">Imagem do Time:</label>
        <input type="text" id="imagem-time" name="imagem-time" placeholder="URL da imagem do time" required>

        <label for="gols">Gols:</label>
        <input type="number" id="gols" name="gols" value="0" required>

        <label for="gols-tomados">Gols Tomados:</label>
        <input type="number" id="gols-tomados" name="gols-tomados" value="0" required>

        <label for="gols-contra">Gols Contra:</label>
        <input type="number" id="gols-contra" name="gols-contra" value="0" required>

        <label for="jogos">Jogos:</label>
        <input type="number" id="jogos" name="jogos" value="0" required>

        <label for="vitorias">Vitórias:</label>
        <input type="number" id="vitorias" name="vitorias" value="0" required>

        <label for="empates">Empates:</label>
        <input type="number" id="empates" name="empates" value="0" required>

        <label for="derrotas">Derrotas:</label>
        <input type="number" id="derrotas" name="derrotas" value="0" required>

        <label for="saldo-gols">Saldo de Gols:</label>
        <input type="number" id="saldo-gols" name="saldo-gols" value="0" required>

        <button type="submit">Enviar Inscrição</button>
      </form>
    </section>
  </main>

  <div class="success-message" id="successMessage">
    Inscrição enviada com sucesso! Seu time foi registrado.
    <button id="closeButton">Fechar</button>
  </div>

  <script>
    function loadInscricoes() {
      const categoryAList = document.getElementById('categoryA');
      const categoryBList = document.getElementById('categoryB');
      const savedTeams = JSON.parse(localStorage.getItem('teams')) || [];

      categoryAList.innerHTML = '';
      categoryBList.innerHTML = '';

      savedTeams.forEach((team, index) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${index + 1}</td>
          <td>${team.nomeTime}</td>
          <td>${team.nomeCapitao}</td>
          <td>${team.pontos}</td>
          <td>${team.jogos}</td>
          <td>${team.vitorias}</td>
          <td>${team.empates}</td>
          <td>${team.derrotas}</td>
          <td>${team.gols}</td>
          <td>${team.golsContra}</td>
          <td>${team.saldoGols}</td>
          <td>
            <button class="button" onclick="editTeam(${index})">Editar</button>
            <button class="button" onclick="deleteTeam(${index})">Excluir</button>
          </td>
        `;

        if (team.categoria === 'A') {
          categoryAList.appendChild(tr);
        } else {
          categoryBList.appendChild(tr);
        }
      });
    }

    function sendToDiscord(teamData) {
      const webhookUrl = 'https://discord.com/api/webhooks/1330790162745000027/3wzlP-QID2XeNlI0lW4dXLwcjMu333K6UHQ2TMBl6lkS0Le5jprBmLvbqYPcNRi3OnSi';
      
      const embed = {
  title: `TABELA DO TIME - ${teamData.nomeTime}`,
  color: 3447003,
  thumbnail: {
    url: "https://media.discordapp.net/attachments/1327198466392326158/1329372934623727656/Universal_abyss.png?ex=678eb7c6&is=678d6646&hm=7a48ac030e55138241e69a79a5ab49be316f39a28443c27292d11f04a257b9cc&=&format=webp&quality=lossless&width=600&height=600",
  },
  image: {
    url: "https://media.discordapp.net/attachments/1327198466392326158/1329455140473667705/standard_11.gif?ex=678f0455&is=678db2d5&hm=1a2760f111972b47d9ca7f1d0f6c58696e1cb94ba09b0abe424747f30c5e5a4f&=&width=750&height=300",
  },
  author: {
    name: "Sistema criado por @Fumiga",
    icon_url: "https://media.discordapp.net/attachments/1327198466392326158/1329372934623727656/Universal_abyss.png?ex=678eb7c6&is=678d6646&hm=7a48ac030e55138241e69a79a5ab49be316f39a28443c27292d11f04a257b9cc&=&format=webp&quality=lossless&width=600&height=600",
  },
  fields: [
    { name: "Categoria", value: teamData.categoria },
    { name: "Capitão", value: teamData.nomeCapitao },
    { name: "Gols", value: `${teamData.gols}` },
    { name: "Gols Contra", value: `${teamData.golsContra}` },
    { name: "Jogos", value: `${teamData.jogos}` },
    { name: "Vitórias", value: `${teamData.vitorias}` },
    { name: "Empates", value: `${teamData.empates}` },
    { name: "Derrotas", value: `${teamData.derrotas}` },
    { name: "Pontos", value: `${teamData.pontos}` },
    { name: "Saldo de Gols", value: `${teamData.saldoGols}` }
  ],
  footer: { text: "Painel Administrativo" },
};

      const message = { embeds: [embed] };

      fetch(webhookUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(message),
      }).then(response => {
        if (response.ok) {
          console.log("Mensagem enviada com sucesso!");
        }
      }).catch(error => console.error("Erro ao enviar para o Discord:", error));
    }

    document.getElementById('inscricaoForm').addEventListener('submit', function(event) {
      event.preventDefault();

      const teamData = {
        nomeTime: document.getElementById('nome-time').value,
        nomeCapitao: document.getElementById('nome-capitao').value,
        categoria: document.getElementById('categoria').value,
        imagemTime: document.getElementById('imagem-time').value,
        gols: parseInt(document.getElementById('gols').value),
        golsContra: parseInt(document.getElementById('gols-contra').value),
        golsTomados: parseInt(document.getElementById('gols-tomados').value),
        jogos: parseInt(document.getElementById('jogos').value),
        vitorias: parseInt(document.getElementById('vitorias').value),
        empates: parseInt(document.getElementById('empates').value),
        derrotas: parseInt(document.getElementById('derrotas').value),
        saldoGols: parseInt(document.getElementById('saldo-gols').value),
        pontos: 0 // Inicializa pontos como 0
      };

      const savedTeams = JSON.parse(localStorage.getItem('teams')) || [];
      savedTeams.push(teamData);
      localStorage.setItem('teams', JSON.stringify(savedTeams));

      // Mostrar mensagem de sucesso
      const successMessage = document.getElementById('successMessage');
      successMessage.style.display = 'block';

      // Enviar para o Discord
      sendToDiscord(teamData);

      // Fechar a mensagem de sucesso após 5 segundos
      setTimeout(() => {
        successMessage.style.display = 'none';
      }, 5000);

      // Limpar formulário
      document.getElementById('inscricaoForm').reset();
      loadInscricoes();
    });

    function editTeam(index) {
      const savedTeams = JSON.parse(localStorage.getItem('teams')) || [];
      const team = savedTeams[index];

      document.getElementById('nome-time').value = team.nomeTime;
      document.getElementById('nome-capitao').value = team.nomeCapitao;
      document.getElementById('categoria').value = team.categoria;
      document.getElementById('imagem-time').value = team.imagemTime;
      document.getElementById('gols').value = team.gols;
      document.getElementById('gols-tomados').value = team.golsTomados;
      document.getElementById('gols-contra').value = team.golsContra;
      document.getElementById('jogos').value = team.jogos;
      document.getElementById('vitorias').value = team.vitorias;
      document.getElementById('empates').value = team.empates;
      document.getElementById('derrotas').value = team.derrotas;
      document.getElementById('saldo-gols').value = team.saldoGols;

      savedTeams.splice(index, 1);
      localStorage.setItem('teams', JSON.stringify(savedTeams));
    }

    function deleteTeam(index) {
      const savedTeams = JSON.parse(localStorage.getItem('teams')) || [];
      savedTeams.splice(index, 1);
      localStorage.setItem('teams', JSON.stringify(savedTeams));
      loadInscricoes();
    }

    loadInscricoes();
  </script>
</body>
